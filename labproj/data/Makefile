##############################
# @file Makefile for <+PROJECT+>
##############################
#-- PROJECT {{{ ------------------------------------------------------
SHELL=/bin/sh
PROJECT=<+PROJECT+>
VERSION=0.1
#-- END PROJECT }}} --------------------------------------------------
#-- DIRS {{{ ---------------------------------------------------------
PREFIX=.
CLEAN=
GRAPHDIR=$(PREFIX)/graphs
TABLDIR=$(PREFIX)/tables
#-- END DIRS }}} -----------------------------------------------------
#-- FILES {{{ --------------------------------------------------------
DATAFILE=$(PREFIX)/main.m
GRAPHFILE=$(PREFIX)/graph.gp
#-- END FILES }}} ----------------------------------------------------

.PHONY: all clean data graph

all: data graph

data: $(DATAFILE)
	octave $(DATAFILE)

graph: $(GRAPHFILE)
	gnuplot -p $(GRAPHFILE)
	cd $(GRAPHDIR);\
	for file in $$(ls *.eps); do epstopdf $$file; done 
	
#make the graphs into pdf
#to avoid a file not found error generated by the tex files. 
